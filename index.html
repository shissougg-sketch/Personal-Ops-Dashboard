<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Personal Ops Dashboard</title>
<style>
* { margin: 0; padding: 0; box-sizing: border-box; }
body { 
    font-family: 'Segoe UI', sans-serif; 
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    background-attachment: fixed;
}
.top-nav { 
    background: rgba(255, 255, 255, 0.95);
    backdrop-filter: blur(10px);
    height: 70px;
    box-shadow: 0 4px 20px rgba(0,0,0,0.15);
    display: flex;
    align-items: center;
    padding: 0 30px;
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    z-index: 100;
}
.logo { 
    font-size: 28px;
    font-weight: bold;
    background: linear-gradient(135deg, #667eea, #764ba2);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    display: flex;
    align-items: center;
    gap: 10px;
}
.logo::before {
    content: "‚ö°";
    font-size: 32px;
    animation: pulse 2s infinite;
}
@keyframes pulse {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.2); }
}
.menu-btn { 
    display: none;
    background: linear-gradient(135deg, #667eea, #764ba2);
    color: white;
    border: none;
    font-size: 24px;
    cursor: pointer;
    margin-left: auto;
    width: 45px;
    height: 45px;
    border-radius: 12px;
    box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
    transition: transform 0.3s;
}
.menu-btn:active {
    transform: scale(0.95);
}
.sidebar { 
    position: fixed;
    left: 0;
    top: 70px;
    bottom: 0;
    width: 280px;
    background: rgba(255, 255, 255, 0.95);
    backdrop-filter: blur(10px);
    box-shadow: 4px 0 20px rgba(0,0,0,0.1);
    padding: 30px 0;
    transition: transform 0.3s;
    overflow-y: auto;
}
.nav-item { 
    padding: 16px 25px;
    margin: 8px 15px;
    cursor: pointer;
    transition: all 0.3s;
    display: flex;
    align-items: center;
    gap: 12px;
    border-radius: 12px;
    font-size: 16px;
    font-weight: 500;
}
.nav-item:hover { 
    background: linear-gradient(135deg, rgba(102, 126, 234, 0.1), rgba(118, 75, 162, 0.1));
    transform: translateX(5px);
}
.nav-item.active { 
    background: linear-gradient(135deg, #667eea, #764ba2);
    color: white;
    box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
    transform: translateX(5px);
}
.main-content { 
    margin-left: 280px;
    margin-top: 70px;
    padding: 40px;
    min-height: calc(100vh - 70px);
}
.page { display: none; animation: fadeIn 0.5s; }
.page.active { display: block; }
@keyframes fadeIn {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
}
.card { 
    background: rgba(255, 255, 255, 0.95);
    backdrop-filter: blur(10px);
    border-radius: 20px;
    padding: 30px;
    box-shadow: 0 8px 30px rgba(0,0,0,0.12);
    margin-bottom: 25px;
    transition: transform 0.3s, box-shadow 0.3s;
}
.card:hover {
    transform: translateY(-5px);
    box-shadow: 0 12px 40px rgba(0,0,0,0.18);
}
.stats-grid { 
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
    gap: 25px;
    margin-bottom: 40px;
}
.stat-card { 
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    padding: 30px;
    border-radius: 20px;
    box-shadow: 0 8px 25px rgba(102, 126, 234, 0.4);
    transition: transform 0.3s;
    position: relative;
    overflow: hidden;
}
.stat-card::before {
    content: '';
    position: absolute;
    top: -50%;
    right: -50%;
    width: 200%;
    height: 200%;
    background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
    animation: rotate 10s linear infinite;
}
@keyframes rotate {
    from { transform: rotate(0deg); }
    to { transform: rotate(360deg); }
}
.stat-card:hover {
    transform: translateY(-8px) scale(1.02);
}
.stat-number { 
    font-size: 42px;
    font-weight: bold;
    margin: 15px 0;
    position: relative;
}
.stat-label {
    opacity: 0.95;
    font-size: 14px;
    text-transform: uppercase;
    letter-spacing: 1px;
    position: relative;
}
input, textarea, select { 
    width: 100%;
    padding: 14px 18px;
    border: 2px solid #e0e0e0;
    border-radius: 12px;
    font-size: 15px;
    margin-bottom: 18px;
    transition: all 0.3s;
    background: white;
}
input:focus, textarea:focus, select:focus {
    outline: none;
    border-color: #667eea;
    box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
}
button { 
    background: linear-gradient(135deg, #667eea, #764ba2);
    color: white;
    border: none;
    padding: 14px 28px;
    border-radius: 12px;
    cursor: pointer;
    margin-right: 10px;
    font-size: 15px;
    font-weight: 600;
    transition: all 0.3s;
    box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
}
button:hover { 
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);
}
button:active {
    transform: translateY(0);
}
.btn-danger { 
    background: linear-gradient(135deg, #ff6b6b, #ee5a6f);
    box-shadow: 0 4px 15px rgba(255, 107, 107, 0.3);
}
.btn-danger:hover {
    box-shadow: 0 6px 20px rgba(255, 107, 107, 0.4);
}
.item { 
    background: linear-gradient(135deg, rgba(102, 126, 234, 0.05), rgba(118, 75, 162, 0.05));
    padding: 20px;
    border-radius: 15px;
    margin-bottom: 15px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    transition: all 0.3s;
    border-left: 4px solid #667eea;
}
.item:hover {
    transform: translateX(5px);
    box-shadow: 0 4px 15px rgba(0,0,0,0.08);
}
.modal { 
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0,0,0,0.6);
    backdrop-filter: blur(5px);
    z-index: 1000;
    align-items: center;
    justify-content: center;
    animation: fadeIn 0.3s;
}
.modal.active { display: flex; }
.modal-content { 
    background: white;
    padding: 35px;
    border-radius: 20px;
    max-width: 550px;
    width: 90%;
    max-height: 85vh;
    overflow-y: auto;
    box-shadow: 0 20px 60px rgba(0,0,0,0.3);
    animation: slideUp 0.3s;
}
@keyframes slideUp {
    from { transform: translateY(50px); opacity: 0; }
    to { transform: translateY(0); opacity: 1; }
}
.close { 
    float: right;
    font-size: 28px;
    cursor: pointer;
    color: #999;
    transition: all 0.3s;
    line-height: 1;
}
.close:hover {
    color: #667eea;
    transform: rotate(90deg);
}
label { 
    display: block;
    margin-bottom: 8px;
    font-weight: 600;
    color: #333;
}
h2 { 
    margin-bottom: 30px;
    color: white;
    font-size: 32px;
    text-shadow: 0 2px 10px rgba(0,0,0,0.1);
}
h3 {
    color: #667eea;
    margin-bottom: 25px;
    font-size: 24px;
}
@media (max-width: 768px) {
    .menu-btn { display: flex; align-items: center; justify-content: center; }
    .sidebar { transform: translateX(-100%); z-index: 99; }
    .sidebar.open { transform: translateX(0); }
    .main-content { margin-left: 0; padding: 20px; }
    .stats-grid { grid-template-columns: 1fr 1fr; gap: 15px; }
    .stat-card { padding: 20px; }
    .stat-number { font-size: 32px; }
    .card { padding: 20px; }
    .item { flex-direction: column; align-items: flex-start; gap: 12px; }
    .modal-content { width: 95%; padding: 25px; }
    button { margin-bottom: 10px; width: 100%; }
    h2 { font-size: 26px; }
    .top-nav { padding: 0 20px; height: 65px; }
    .logo { font-size: 22px; }
}
</style>
</head>
<body>

<div class="top-nav">
<div class="logo">Personal Ops</div>
<button class="menu-btn" onclick="toggleMenu()">‚ò∞</button>
</div>

<div class="sidebar" id="sidebar">
<div class="nav-item active" onclick="show('home')">üè† Home</div>
<div class="nav-item" onclick="show('tasks')">‚úÖ Tasks</div>
<div class="nav-item" onclick="show('workout')">üí™ Workout</div>
<div class="nav-item" onclick="show('budget')">üí∞ Budget</div>
<div class="nav-item" onclick="show('notes')">üìù Notes</div>
<div class="nav-item" onclick="show('settings')">‚öôÔ∏è Settings</div>
</div>

<div class="main-content">

<div id="home" class="page active">
<h2>Dashboard Overview</h2>
<div class="stats-grid">
<div class="stat-card">
<div class="stat-label">Tasks Due</div>
<div class="stat-number" id="stat1">0</div>
</div>
<div class="stat-card">
<div class="stat-label">Workouts Week</div>
<div class="stat-number" id="stat2">0</div>
</div>
<div class="stat-card">
<div class="stat-label">Budget Left</div>
<div class="stat-number" id="stat3">$0</div>
</div>
<div class="stat-card">
<div class="stat-label">Total Notes</div>
<div class="stat-number" id="stat4">0</div>
</div>
</div>
<div class="card">
<h3>üéØ Quick Stats</h3>
<p style="font-size: 16px; color: #666; line-height: 1.8;">Welcome back! Here's your productivity overview at a glance.</p>
</div>
</div>

<div id="tasks" class="page">
<h2>‚úÖ Task Manager</h2>
<div class="card">
<button onclick="openModal('task')">+ Add New Task</button>
<div id="taskList"></div>
</div>
</div>

<div id="workout" class="page">
<h2>üí™ Workout Log</h2>
<div class="card">
<button onclick="openModal('workout')">+ Log Workout</button>
<div id="workoutList"></div>
</div>
</div>

<div id="budget" class="page">
<h2>üí∞ Budget Tracker</h2>
<div class="card">
<button onclick="openModal('income')">+ Add Income</button>
<button onclick="openModal('expense')">+ Add Expense</button>
<div style="margin: 25px 0; padding: 20px; background: linear-gradient(135deg, rgba(102, 126, 234, 0.1), rgba(118, 75, 162, 0.1)); border-radius: 15px;">
<p style="font-size: 18px; margin-bottom: 10px;"><strong>Income:</strong> $<span id="inc">0</span></p>
<p style="font-size: 18px; margin-bottom: 10px;"><strong>Expenses:</strong> $<span id="exp">0</span></p>
<p style="font-size: 22px; font-weight: bold; color: #667eea;"><strong>Balance:</strong> $<span id="bal">0</span></p>
</div>
<div id="budgetList"></div>
</div>
</div>

<div id="notes" class="page">
<h2>üìù Notes & Wiki</h2>
<div class="card">
<button onclick="openModal('note')">+ Create Note</button>
<div id="noteList"></div>
</div>
</div>

<div id="settings" class="page">
<h2>‚öôÔ∏è Settings</h2>
<div class="card">
<h3>Data Management</h3>
<button onclick="exp()">üì• Export All Data</button>
<button onclick="document.getElementById('imp').click()">üì§ Import Data</button>
<input type="file" id="imp" style="display:none" onchange="imp(event)">
<button class="btn-danger" onclick="clear()">üóëÔ∏è Clear All Data</button>
</div>
</div>

</div>

<div id="modal" class="modal">
<div class="modal-content">
<span class="close" onclick="closeModal()">&times;</span>
<div id="modalContent"></div>
</div>
</div>

<script>
let d = { tasks: [], workouts: [], budget: [], notes: [] };
let type = '';

function load() {
const s = localStorage.getItem('ops');
if (s) d = JSON.parse(s);
update();
}

function save() {
localStorage.setItem('ops', JSON.stringify(d));
}

function show(id) {
document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
document.getElementById(id).classList.add('active');
event.target.classList.add('active');
if (window.innerWidth <= 768) {
document.getElementById('sidebar').classList.remove('open');
}
if (id === 'tasks') rTasks();
if (id === 'workout') rWorkouts();
if (id === 'budget') rBudget();
if (id === 'notes') rNotes();
if (id === 'home') update();
}

function toggleMenu() {
document.getElementById('sidebar').classList.toggle('open');
}

function openModal(t) {
type = t;
let h = '';
if (t === 'task') h = '<h3>Add Task</h3><input id="i1" placeholder="Task title"><input id="i2" type="date"><button onclick="saveTask()">Save Task</button>';
if (t === 'workout') h = '<h3>Log Workout</h3><input id="i1" placeholder="Exercise name"><input id="i2" type="number" placeholder="Duration (minutes)"><button onclick="saveWorkout()">Save Workout</button>';
if (t === 'income' || t === 'expense') h = '<h3>Add ' + (t === 'income' ? 'Income' : 'Expense') + '</h3><input id="i1" placeholder="Category"><input id="i2" type="number" step="0.01" placeholder="Amount"><button onclick="saveBudget()">Save</button>';
if (t === 'note') h = '<h3>New Note</h3><input id="i1" placeholder="Note title"><textarea id="i2" rows="6" placeholder="Write your note here..."></textarea><button onclick="saveNote()">Save Note</button>';
document.getElementById('modalContent').innerHTML = h;
document.getElementById('modal').classList.add('active');
}

function closeModal() {
document.getElementById('modal').classList.remove('active');
}

function saveTask() {
const t = document.getElementById('i1').value;
const du = document.getElementById('i2').value;
if (!t) return alert('Enter title');
d.tasks.push({ id: Date.now(), title: t, due: du, done: false });
save();
closeModal();
rTasks();
update();
}

function saveWorkout() {
const n = document.getElementById('i1').value;
const m = document.getElementById('i2').value;
if (!n || !m) return alert('Fill all fields');
d.workouts.push({ id: Date.now(), name: n, mins: m, date: new Date().toISOString().split('T')[0] });
save();
closeModal();
rWorkouts();
update();
}

function saveBudget() {
const c = document.getElementById('i1').value;
const a = parseFloat(document.getElementById('i2').value);
if (!c || !a) return alert('Fill all fields');
d.budget.push({ id: Date.now(), type: type, cat: c, amt: a, date: new Date().toISOString().split('T')[0] });
save();
closeModal();
rBudget();
update();
}

function saveNote() {
const t = document.getElementById('i1').value;
const c = document.getElementById('i2').value;
if (!t || !c) return alert('Fill all fields');
d.notes.push({ id: Date.now(), title: t, content: c });
save();
closeModal();
rNotes();
update();
}

function rTasks() {
const h = d.tasks.map(t => '<div class="item"><div style="flex: 1;"><input type="checkbox" style="width: auto; margin-right: 10px;" ' + (t.done ? 'checked' : '') + ' onchange="toggle(' + t.id + ')"><strong>' + t.title + '</strong>' + (t.due ? ' <span style="opacity: 0.7;">- Due: ' + t.due + '</span>' : '') + '</div><button class="btn-danger" onclick="del(\'tasks\',' + t.id + ')">Delete</button></div>').join('');
document.getElementById('taskList').innerHTML = h || '<p style="text-align: center; padding: 30px; color: #999;">No tasks yet. Add one to get started!</p>';
}

function rWorkouts() {
const h = d.workouts.map(w => '<div class="item"><div style="flex: 1;"><strong>' + w.name + '</strong><br><span style="opacity: 0.7;">' + w.mins + ' minutes ¬∑ ' + w.date + '</span></div><button class="btn-danger" onclick="del(\'workouts\',' + w.id + ')">Delete</button></div>').join('');
document.getElementById('workoutList').innerHTML = h || '<p style="text-align: center; padding: 30px; color: #999;">No workouts logged yet!</p>';
}

function rBudget() {
const inc = d.budget.filter(b => b.type === 'income').reduce((s, b) => s + b.amt, 0);
const exp = d.budget.filter(b => b.type === 'expense').reduce((s, b) => s + b.amt, 0);
document.getElementById('inc').textContent = inc.toFixed(2);
document.getElementById('exp').textContent = exp.toFixed(2);
document.getElementById('bal').textContent = (inc - exp).toFixed(2);
const h = d.budget.map(b => '<div class="item"><div style="flex: 1;"><strong>' + b.cat + '</strong> - $' + b.amt.toFixed(2) + '<br><span style="opacity: 0.7;">' + (b.type === 'income' ? 'üí∞ Income' : 'üí∏ Expense') + ' ¬∑ ' + b.date + '</span></div><button class="btn-danger" onclick="del(\'budget\',' + b.id + ')">Delete</button></div>').join('');
document.getElementById('budgetList').innerHTML = h || '<p style="text-align: center; padding: 30px; color: #999;">No transactions yet!</p>';
}

function rNotes() {
const h = d.notes.map(n => '<div class="item"><div style="flex: 1;"><strong>' + n.title + '</strong><br><span style="opacity: 0.7; font-size: 14px;">' + n.content.substring(0, 80) + '...</span></div><button class="btn-danger" onclick="del(\'notes\',' + n.id + ')">Delete</button></div>').join('');
document.getElementById('noteList').innerHTML = h || '<p style="text-align: center; padding: 30px; color: #999;">No notes yet!</p>';
}

function toggle(id) {
const t = d.tasks.find(t => t.id === id);
t.done = !t.done;
save();
rTasks();
update();
}

function del(arr, id) {
if (!confirm('Delete this item?')) return;
d[arr] = d[arr].filter(i => i.id !== id);
save();
if (arr === 'tasks') rTasks();
if (arr === 'workouts') rWorkouts();
if (arr === 'budget') rBudget();
if (arr === 'notes') rNotes();
update();
}

function update() {
const today = new Date().toISOString().split('T')[0];
document.getElementById('stat1').textContent = d.tasks.filter(t => !t.done && t.due === today).length;
const week = new Date();
week.setDate(week.getDate() - 7);
document.getElementById('stat2').textContent = d.workouts.filter(w => new Date(w.date) >= week).length;
const inc = d.budget.filter(b => b.type === 'income').reduce((s, b) => s + b.amt, 0);
const exp = d.budget.filter(b => b.type === 'expense').reduce((s, b) => s + b.amt, 0);
document.getElementById('stat3').textContent = '$' + (inc - exp).toFixed(0);
document.getElementById('stat4').textContent = d.notes.length;
}

function exp() {
const str = JSON.stringify(d, null, 2);
const blob = new Blob([str], { type: 'application/json' });
const url = URL.createObjectURL(blob);
const a = document.createElement('a');
a.href = url;
a.download = 'personal-ops-backup-' + new Date().toISOString().split('T')[0] + '.json';
a.click();
alert('Data exported successfully!');
}

function imp(e) {
const file = e.target.files[0];
if (!file) return;
const r = new FileReader();
r.onload = function(ev) {
try {
d = JSON.parse(ev.target.result);
save();
alert('Data imported successfully!');
update();
show('home');
} catch (err) {
alert('Error importing file. Make sure it\'s a valid backup.');
}
};
r.readAsText(file);
}

function clear() {
if (!confirm('‚ö†Ô∏è This will delete ALL your data. Are you sure?')) return;
if (!confirm('Really sure? This cannot be undone!')) return;
d = { tasks: [], workouts: [], budget: [], notes: [] };
save();
update();
alert('All data cleared!');
show('home');
}

load();
</script>
</body>
</html>
